<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <!-- scroll to top button -->
    <button (click)="topFunction()" id="myBtn" title="Go to top">
      <i class="fas fa-angle-up" aria-hidden="true"></i>
    </button>

    <!-- top panel navbar -->
    <div
      class="top-panel"
      id="top-panel"
      [ngStyle]="{
        'background-color': brightness
          ? 'rgb(223, 223, 223)'
          : ' rgb(41, 42, 45)'
      }"
    >
      <div class="container myname">
        <div class="row">
          <div class="col-sm-6 nametag">
            <h3
              class="n1"
              id="top-panel-nametag"
              *ngIf="!brightness"
              [ngStyle]="{ color: brightness ? 'black' : 'rgb(129,129,129)' }"
            >
              > krishnakantsalkar@prototype:~<span class="one">$</span>
            </h3>

            <h3
              class="n2"
              id="top-panel-nametag"
              *ngIf="brightness"
              [ngStyle]="{ color: brightness ? 'black' : 'rgb(129,129,129)' }"
            >
              > krishnakantsalkar@prototype:~<span class="two">$</span>
            </h3>
          </div>
          <div class="col-sm-6 links" id="links">
            <a
              class="navlink"
              routerLink="/Home"
              [ngClass]="{ aLight: brightness, aDark: !brightness }"
            >
              Home</a
            >

            <a
              class="navlink"
              routerLink="/About"
              [ngClass]="{ aLight: brightness, aDark: !brightness }"
              >About</a
            >
            <a
              class="navlink"
              routerLink="/Support"
              [ngClass]="{ aLight: brightness, aDark: !brightness }"
              >Support</a
            >
          </div>
        </div>
      </div>
    </div>

    <!-- background -->
    <div class="content"></div>

    <!-- main content -->
    <div
      class="movieList"
      id="movieList"
      [ngStyle]="{
        'background-color': brightness ? 'white' : ' rgb(41, 42, 45)',
        color: brightness ? 'black' : 'white'
      }"
    >
      <!-- movie list container -->
      <div class="container">
        <!-- top title text -->
        <div
          class="topText"
          [ngStyle]="{ color: brightness ? 'black' : 'white' }"
        >
          <!-- top title -->
          <h1>Here's a List of 100 Latest & Popular Movies & TV shows!</h1>

          <!-- navigation buttons to call diff APIs -->
          <div class="listButtons">
            <h5>Movies:</h5>
            <button
              class="btn btn1 active"
              id="now_playing"
              (click)="getTheLists(1, 'movie', 'now_playing')"
            >
              Now Playing
            </button>
            <button
              class="btn btn2"
              id="popular"
              (click)="getTheLists(1, 'movie', 'popular'); removeActiveBtn()"
            >
              Popular
            </button>
            <button
              class="btn btn3"
              id="top_rated"
              (click)="getTheLists(1, 'movie', 'top_rated'); removeActiveBtn()"
            >
              Top Rated
            </button>
            <button
              class="btn btn4"
              id="upcoming"
              (click)="getTheLists(1, 'movie', 'upcoming'); removeActiveBtn()"
            >
              Upcoming
            </button>
            <br />
            <h5>Tv:</h5>
            <button
              class="btn btn5"
              id="now_playing1"
              (click)="getTheLists(1, 'tv', 'on_the_air'); removeActiveBtn()"
            >
              Now Playing
            </button>
            <button
              class="btn btn6"
              id="popular1"
              (click)="getTheLists(1, 'tv', 'popular'); removeActiveBtn()"
            >
              Popular
            </button>
            <button
              class="btn btn7"
              id="top_rated1"
              (click)="getTheLists(1, 'tv', 'top_rated'); removeActiveBtn()"
            >
              Top Rated
            </button>
          </div>
        </div>

        <!-- show user which section is being viewed -->
        <h5>Now viewing: '{{ currentListType }}'</h5>
        <h5>List: '{{ currentList }}',</h5>
        <h5>pageno: '{{ pageNo }}'</h5>
        <br />

        <!-- search input -->
        <div class="searchArea">
          <div class="input" style="display: flex; justify-content: center">
            <input
              type="text"
              placeholder=""
              class="form-control"
              id="movieTvSearch"
              [ngStyle]="{
                'background-color': brightness
                  ? 'rgb(223, 223, 223)'
                  : ' rgb(33, 34, 34)',
                color: brightness ? 'black' : 'white'
              }"
            />
            <button
              class="btn"
              style="
                background-color: turquoise;
                position: relative;
                right: 42px;
              "
              (click)="SearchMedia()"
            >
              <i
                class="fas fa-search"
                [ngStyle]="{
                  color: brightness ? 'white' : 'black'
                }"
              ></i>
            </button>
            <br />
          </div>
          <br />

          <!-- alert if search error -->
          <div
            class="alert alert-danger"
            *ngIf="searchErr"
            style="
              text-align: center;
              width: 70%;
              margin-left: auto;
              margin-right: auto;
            "
          >
            <h5 *ngIf="searchErr.status_message">
              {{ searchErr.status_message }}
            </h5>
          </div>

          <!-- display search results -->
          <div
            class="card"
            *ngIf="searchResults && searchResults.results.length > 0"
            [ngStyle]="{
              'background-color': brightness
                ? 'rgb(223, 223, 223)'
                : ' rgb(33, 34, 34)',
              color: brightness ? 'black' : 'white'
            }"
          >
            <!-- main body of search  -->
            <div class="card-body">
              <h5>Search Results:</h5>

              <!-- row separation for movies/tv -->
              <div class="row">
                <!-- movie row -->
                <div class="col-6 col-sm-6">
                  <h6>Movies:</h6>
                  <div
                    class="resultData col-12 col-sm-12"
                    *ngFor="let results of searchResults.results | slice: 0:20"
                  >
                    <div class="movieSearchResults">
                      <a
                        *ngIf="results.media_type == 'movie'"
                        routerLink="/Movies&TV/{{ results.id }}"
                        (click)="setSearchListType('movie')"
                        ><h5>
                          {{ results.title }}
                        </h5></a
                      >
                    </div>
                  </div>
                </div>

                <!-- tv row -->
                <div class="col-6 col-sm-6">
                  <h6>TV:</h6>
                  <div
                    class="tvSearchResults col-12 col-sm-12"
                    *ngFor="let results of searchResults.results | slice: 0:20"
                  >
                    <a
                      *ngIf="results.media_type == 'tv'"
                      routerLink="/Movies&TV/{{ results.id }}"
                      (click)="setSearchListType('tv')"
                      ><h5>
                        {{ results.name }}
                      </h5></a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <br />
        <br />

        <!-- main row of page -->
        <div class="row">
          <!-- movie, tv list -->
          <div
            class="movieData col-sm-3 col-6 col-md-3"
            *ngFor="let movies of movieData"
          >
            <!-- movie card -->
            <div class="card" id="movieCard" *ngIf="movieData">
              <!-- movie image -->
              <a routerLink="/Movies&TV/{{ movies.id }}">
                <img
                  src="https://image.tmdb.org/t/p/w300{{ movies.poster_path }}"
                  alt=""
              /></a>

              <!-- on hover text -->
              <div class="middle">
                <div class="text">
                  <h4><i class="fas fa-star"></i></h4>
                </div>
                <h4>{{ movies.vote_average }} / 10</h4>
                <div class="text1" routerLink="/Movies/{{ movies.id }}">
                  view details
                </div>
              </div>

              <!-- movie title -->
              <h6
                [ngStyle]="{
                  'background-color': brightness ? 'white' : ' rgb(41, 42, 45)',
                  color: brightness ? 'black' : 'white'
                }"
                *ngIf="movies.original_title"
                routerLink="/Movies&TV/{{ movies.id }}"
              >
                {{ movies.title }}
              </h6>

              <!-- tv title -->
              <h6
                [ngStyle]="{
                  'background-color': brightness ? 'white' : ' rgb(41, 42, 45)',
                  color: brightness ? 'black' : 'white'
                }"
                routerLink="/Movies&TV/{{ movies.id }}"
                *ngIf="movies.name"
              >
                {{ movies.name }}
              </h6>
            </div>
            <br />
            <br />
          </div>
        </div>

        <!-- pagination implementation -->
        <div class="pagebtn" *ngIf="movieData">
          <button
            class="btn"
            [disabled]="pageNo == 1"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="getTheLists(1, currentListType, currentList)"
          >
            1
          </button>
          <button
            class="btn"
            [disabled]="pageNo == 2"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="getTheLists(2, currentListType, currentList)"
          >
            2
          </button>

          <button
            class="btn"
            [disabled]="pageNo == 3"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="getTheLists(3, currentListType, currentList)"
          >
            3
          </button>
          <button
            class="btn"
            [disabled]="pageNo == 4"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="getTheLists(4, currentListType, currentList)"
          >
            4
          </button>
          <button
            class="btn"
            [disabled]="pageNo == 5"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="getTheLists(5, currentListType, currentList)"
          >
            5
          </button>
        </div>

        <!-- disclaimer & credits -->
        <div class="disclaimerInfo">
          <div class="alert alert-danger">
            <h6>
              <i class="fas fa-info-circle"></i> Disclaimer: Displayed data on
              this website is for Information purpose only. This website doesn't
              redirect/provide links to any illegal download of movies etc.
            </h6>
          </div>
        </div>
        <div class="creditsInfo">
          <div class="alert alert-success">
            <h6>
              <i class="fas fa-check-circle"></i> Movie database API Powered By:
              <a href="https://www.themoviedb.org" target="_blank">
                <strong> TheMovieDB.ORG</strong></a
              >
            </h6>
          </div>
        </div>
      </div>
    </div>

    <!-- footer area -->
    <app-footer></app-footer>
  </body>
</html>
