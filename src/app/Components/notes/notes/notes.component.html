<!-- <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Page Title</title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body> -->

<div
  class="notes"
  [ngStyle]="{
    'background-color': brightness ? 'rgb(200, 200, 200)' : ' rgb(41, 42, 45)',
    color: brightness ? 'black' : 'rgb(129,129,129)'
  }"
>
  <div class="container">
    <div
      class="copy_ip float-left"
      *ngIf="clientIp"
      matTooltip="copy IP address"
      matTooltipPosition="right"
      (click)="copyIp()"
      [ngStyle]="{
        color: brightness ? '#E84858' : 'violet',
        'border-color': brightness ? '#E84858' : 'violet'
      }"
    >
      <span class="">Your IP: {{ clientIp }} </span>
      <mat-icon>content_copy</mat-icon>
    </div>

    <button
      mat-raised-button
      *ngIf="!noteSwitch"
      type="button"
      class="float-right mx-2"
      [ngStyle]="{
        'background-color': brightness ? '#E84858' : ' violet',
        color: brightness ? 'white' : 'black'
      }"
      (click)="showAddNote()"
      matTooltip="Add Note"
      matTooltipPosition="right"
    >
      <mat-icon>note_add</mat-icon>
    </button>

    <button
      mat-raised-button
      *ngIf="!todoSwitch"
      class="float-right mx-2"
      [ngStyle]="{
        'background-color': brightness ? '#E84858' : ' violet',
        color: brightness ? 'white' : 'black'
      }"
      (click)="showAddTodo()"
      matTooltip="Add Task"
      matTooltipPosition="left"
    >
      <mat-icon>task</mat-icon>
    </button>
    <br />
    <br />
    <div
      *ngIf="noteSwitch"
      style="margin-bottom: 70px; padding: 20px; border-radius: 8px"
      [ngStyle]="{
        'background-color': brightness
          ? 'rgb(245, 245, 245)'
          : ' rgb(31, 32, 35)'
      }"
    >
      <h3
        [ngStyle]="{
          color: brightness ? '#E84858' : 'violet'
        }"
      >
        Add New Note
      </h3>
      <br />
      <input
        type="text"
        class="form-control"
        style="width: 100%"
        [(ngModel)]="noteTitle"
        placeholder="title"
      />
      <br />
      <!-- [readonly]="note.readonly" -->
      <textarea
        cols="30"
        rows="7"
        class="form-control"
        [(ngModel)]="noteContent"
        style="width: 100%"
        placeholder="content"
      ></textarea>
      <br />
      <!-- <div class="btn-group" style="float: right; margin-top: 10px"> -->

      <button
        mat-raised-button
        type="button"
        class="btn-primary mr-3"
        [disabled]="!noteTitle || !noteContent"
        (click)="saveNote()"
      >
        Save Note
        <span
          id="uploadSpinner"
          class="spinner-border spinner-border-sm"
        ></span>
        <span id="uploadCheck"> <i class="fas fa-check-circle"></i></span>
        <span id="uploadCheckErr"> <i class="fas fa-times-circle"></i></span>
      </button>

      <button
        mat-raised-button
        type="button"
        class="btn-danger"
        (click)="showAddNote()"
      >
        Cancel
      </button>
      <!-- </div> -->
    </div>

    <div
      *ngIf="todoSwitch"
      style="margin-bottom: 70px; padding: 20px; border-radius: 8px"
      [ngStyle]="{
        'background-color': brightness
          ? 'rgb(245, 245, 245)'
          : ' rgb(31, 32, 35)'
      }"
    >
      <h3
        [ngStyle]="{
          color: brightness ? '#E84858' : 'violet'
        }"
      >
        Add New Task
      </h3>

      <br />
      <input
        type="text"
        class="form-control"
        style="width: 100%"
        [(ngModel)]="todo_title"
        placeholder="title"
      />
      <br />
      <input
        type="text"
        class="form-control"
        style="width: 100%"
        [(ngModel)]="todo_opt"
        placeholder="options"
      />
      <br />
      <button
        mat-raised-button
        type="button"
        class="btn-primary mr-3"
        (click)="addOption()"
        [disabled]="!todo_opt || !todo_title"
      >
        Add
      </button>

      <button
        mat-raised-button
        type="button"
        class="btn-danger mx-2"
        (click)="showAddTodo()"
      >
        Cancel
      </button>

      <br />
      <br />
      <mat-card
        *ngIf="todoArr.length > 0"
        [ngStyle]="{
          'background-color': brightness
            ? 'rgb(245, 245, 245)'
            : ' rgb(31, 32, 35)',
          color: brightness ? 'black' : 'rgb(129,129,129)'
        }"
      >
        <mat-card-content>
          <div
            *ngFor="let list of todoArr; let i = index"
            class="p-field-checkbox"
          >
            <mat-checkbox
              name="group2"
              value="list"
              [value]="list"
              (onChange)="check($event, i)"
              >{{ list.name }}</mat-checkbox
            >
            <span
              ><mat-icon
                [ngStyle]="{
                  color: brightness ? '#E84858' : 'violet'
                }"
                style="margin-left: 10px"
                (click)="deleteOpt(i)"
                >cancel</mat-icon
              ></span
            >
          </div>

          <div class="saveTodo">
            <div class="btn-group" style="margin-top: 10px">
              <button
                mat-raised-button
                type="btn-primary"
                class="mr-3"
                style="color: white"
                [disabled]="!todo_title || todoArr.length == 0"
                (click)="saveTodo()"
              >
                Save List
                <span
                  id="uploadSpinner"
                  class="spinner-border spinner-border-sm"
                ></span>
                <span id="uploadCheck">
                  <i class="fas fa-check-circle"></i
                ></span>
                <span id="uploadCheckErr">
                  <i class="fas fa-times-circle"></i
                ></span>
              </button>
              <button
                mat-raised-button
                type="button"
                class="btn-danger"
                (click)="showAddTodo()"
              >
                Cancel
              </button>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <hr *ngIf="noteSwitch || todoSwitch" />

    <!-- Skeleton Loading animation -->

    <div
      class="card cardPlaceholder"
      [ngStyle]="{
        'background-color': brightness
          ? 'rgb(245, 245, 245)'
          : ' rgb(31, 32, 35)',
        color: brightness ? 'black' : 'rgb(129,129,129)'
      }"
      style="margin-top: 20px; height: 250px; width: 100%"
      *ngIf="!noteSwitch && !todoSwitch"
    >
      <mat-icon
        [ngStyle]="{
          color: brightness ? '#E84858' : 'violet'
        }"
        >note_add</mat-icon
      >
    </div>

    <br />
    <mat-tab-group
      (selectedTabChange)="tabChange($event)"
      [selectedIndex]="selectedTab"
    >
      <mat-tab label="All Notes">
        <mat-card
          class="noNotes"
          *ngIf="areAllArchived"
          [ngStyle]="{
            'background-color': brightness
              ? 'rgb(245, 245, 245)'
              : ' rgb(31, 32, 35)',
            color: brightness ? 'black' : 'rgb(129,129,129)'
          }"
          style="
            margin-top: 20px;
            min-height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
          "
        >
          <h3><i class="fas fa-info-circle"></i> Nothing here ðŸ™„</h3>
        </mat-card>
        <mat-card
          *ngIf="notesData && notesData.length > 0 && !areAllArchived"
          [ngStyle]="{
            'background-color': brightness
              ? 'rgb(245, 245, 245)'
              : ' rgb(31, 32, 35)',
            color: brightness ? 'black' : 'rgb(129,129,129)'
          }"
          style="margin-top: 20px"
        >
          <mat-card-content>
            <div class="row">
              <div class="col-12" *ngIf="anyNotePinned">
                <h4><mat-icon class="icon_align">push_pin</mat-icon> Notes</h4>
              </div>

              <div
                class="col-sm-6 col-lg-6"
                *ngFor="let note of notesData; let i = index"
                [hidden]="note.archived == true || note.pinned == false"
              >
                <div
                  class="row pinnedNotes"
                  *ngIf="
                    note.readonly == true &&
                    note.pinned == true &&
                    note.archived == false
                  "
                >
                  <div class="col-10">
                    <mat-card
                      class="mb-5"
                      [ngStyle]="{
                        'background-color': brightness
                          ? 'rgb(245, 245, 245)'
                          : ' rgb(41, 42, 45)',
                        color: brightness ? 'black' : 'rgb(129,129,129)'
                      }"
                    >
                      <mat-card-title>
                        <h5>
                          <span>
                            <mat-icon
                              class="icon_align"
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              >description</mat-icon
                            >
                            {{ note.notes_title }}
                          </span>
                          <span
                            ><mat-icon
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              (click)="pinNote(i, 'unpin')"
                              matTooltipPosition="above"
                              matTooltip="unpin"
                              >push_pin</mat-icon
                            ></span
                          >
                        </h5>
                      </mat-card-title>
                      <hr />
                      <mat-card-content>
                        <pre
                          class="notes_message"
                          [ngStyle]="{
                            color: brightness ? 'black' : 'rgb(129,129,129)'
                          }"
                          >{{ note.notes_message }}</pre
                        >
                      </mat-card-content>
                      <mat-card-footer>
                        <h5
                          class="text-muted d-flex justify-content-between px-2"
                        >
                          <span>
                            {{
                              note.createdAt | date: "dd MMM YY | hh:mm a"
                            }}</span
                          >
                          <span *ngIf="note.createdAt != note.updatedAt">
                            <i class="fas fa-pencil-alt fa-fw"></i>
                            {{
                              note.updatedAt | date: "dd MMM YY | hh:mm a"
                            }}</span
                          >
                        </h5>
                      </mat-card-footer>
                    </mat-card>
                  </div>
                  <div class="col-2 controlIcons" style="padding-top: 5px">
                    <h4>
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="clickEditNote(i)"
                          matTooltipPosition="above"
                          matTooltip="edit note"
                          >edit</mat-icon
                        >
                      </button>
                    </h4>
                    <h4 *ngIf="note.readonly == false">
                      <mat-icon (click)="cancelEditNote(i)">cancel</mat-icon>
                    </h4>
                    <h4>
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          style="cursor: pointer"
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="deleteNote(i)"
                          matTooltipPosition="above"
                          matTooltip="delete note"
                          >delete_forever</mat-icon
                        >
                      </button>
                    </h4>
                    <h4>
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="archive(i, 'archive')"
                          matTooltipPosition="above"
                          matTooltip="archive note"
                          >archive</mat-icon
                        >
                      </button>
                    </h4>
                  </div>
                </div>
                <div
                  class="row editNotes"
                  style="margin-bottom: 20px"
                  *ngIf="
                    note.readonly == false &&
                    note.pinned == true &&
                    note.archived == false
                  "
                >
                  <div class="col-10">
                    <input
                      type="text"
                      class="form-control"
                      style="width: 100%"
                      placeholder="title"
                      [(ngModel)]="note.notes_title"
                    />
                    <br />
                    <!-- [readonly]="note.readonly" -->

                    <textarea
                      style="width: 100%"
                      class="form-control"
                      cols="30"
                      rows="5"
                      placeholder="content"
                      [(ngModel)]="note.notes_message"
                    ></textarea>
                    <!-- [readonly]="note.readonly" -->

                    <h5
                      style="margin-top: 14px; font-size: 13px"
                      class="text-muted d-flex justify-content-between px-2"
                    >
                      <span>
                        {{ note.createdAt | date: "dd MMM YY | hh:mm a" }}</span
                      >
                      <span *ngIf="note.createdAt != note.updatedAt">
                        <i class="fas fa-pencil-alt fa-fw"></i>
                        {{ note.updatedAt | date: "dd MMM YY | hh:mm a" }}</span
                      >
                    </h5>
                    <div
                      class="btn-group"
                      style="float: right; padding-top: 15px"
                      *ngIf="note.readonly == false"
                    >
                      <button
                        mat-raised-button
                        (click)="cancelEditNote(i)"
                        class="my-2 btn-danger"
                      >
                        Cancel
                      </button>
                      <button
                        mat-raised-button
                        (click)="updateNote(i)"
                        class="my-2 ml-3 btn-success"
                        style="color: white"
                        [ngClass]="{ disabled: !note.notes_message }"
                      >
                        Update
                      </button>
                    </div>
                  </div>
                  <div class="col-2" style="padding-top: 15px">
                    <h4 *ngIf="note.readonly == false">
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          (click)="cancelEditNote(i)"
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          matTooltipPosition="above"
                          matTooltip="cancel edit"
                          >cancel</mat-icon
                        >
                      </button>
                    </h4>
                  </div>
                </div>
              </div>
            </div>
            <!-- <hr *ngIf="note.readonly && note.pinned" /> -->
            <div class="row">
              <div class="col-12">
                <h4>
                  <mat-icon class="icon_align">description</mat-icon> Notes
                </h4>
              </div>

              <div
                class="col-sm-6 col-lg-6"
                *ngFor="let note of notesData; let i = index"
                [hidden]="note.archived == true || note.pinned == true"
              >
                <!-- [hidden]="note.pinned" -->

                <div
                  class="row allNotes"
                  *ngIf="
                    note.readonly == true &&
                    note.pinned == false &&
                    note.archived == false
                  "
                >
                  <div class="col-10">
                    <mat-card
                      class="mb-5"
                      [ngStyle]="{
                        'background-color': brightness
                          ? 'rgb(245, 245, 245)'
                          : ' rgb(41, 42, 45)',
                        color: brightness ? 'black' : 'rgb(129,129,129)'
                      }"
                    >
                      <mat-card-title>
                        <h5>
                          <span>
                            <mat-icon
                              class="icon_align"
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              >description</mat-icon
                            >
                            {{ note.notes_title }}
                          </span>
                          <span
                            ><mat-icon
                              class="pin_icon"
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              (click)="pinNote(i, 'pin')"
                              matTooltipPosition="above"
                              matTooltip="pin"
                              >push_pin</mat-icon
                            ></span
                          >
                        </h5>
                      </mat-card-title>
                      <hr />
                      <mat-card-content>
                        <pre
                          class="notes_message"
                          [ngStyle]="{
                            color: brightness ? 'black' : 'rgb(129,129,129)'
                          }"
                          >{{ note.notes_message }}</pre
                        >
                      </mat-card-content>
                      <mat-card-footer>
                        <h5
                          class="text-muted d-flex justify-content-between px-2"
                        >
                          <span>
                            {{
                              note.createdAt | date: "dd MMM YY | hh:mm a"
                            }}</span
                          >
                          <span *ngIf="note.createdAt != note.updatedAt">
                            <i class="fas fa-pencil-alt fa-fw"></i>
                            {{
                              note.updatedAt | date: "dd MMM YY | hh:mm a"
                            }}</span
                          >
                        </h5>
                      </mat-card-footer>
                    </mat-card>
                  </div>
                  <div class="col-2 controlIcons" style="padding-top: 5px">
                    <h4>
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="clickEditNote(i)"
                          matTooltipPosition="above"
                          matTooltip="edit note"
                          >edit</mat-icon
                        >
                      </button>
                    </h4>
                    <h4 *ngIf="note.readonly == false">
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          (click)="cancelEditNote(i)"
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          >cancel</mat-icon
                        >
                      </button>
                    </h4>
                    <h4>
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="deleteNote(i)"
                          matTooltipPosition="above"
                          matTooltip="delete note"
                          >delete_forever</mat-icon
                        >
                      </button>
                    </h4>
                    <h4>
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="archive(i, 'archive')"
                          matTooltipPosition="above"
                          matTooltip="archive note"
                          >archive</mat-icon
                        >
                      </button>
                    </h4>
                  </div>
                </div>
                <div
                  class="row editNotes"
                  style="margin-bottom: 20px"
                  *ngIf="
                    note.readonly == false &&
                    note.pinned == false &&
                    note.archived == false
                  "
                >
                  <div class="col-10">
                    <input
                      type="text"
                      class="form-control"
                      style="width: 100%"
                      placeholder="title"
                      [(ngModel)]="note.notes_title"
                    />
                    <!-- [readonly]="note.readonly" -->
                    <br />
                    <textarea
                      style="width: 100%"
                      class="form-control"
                      cols="30"
                      rows="5"
                      placeholder="content"
                      [(ngModel)]="note.notes_message"
                    ></textarea>
                    <!-- [readonly]="note.readonly" -->

                    <h5
                      style="margin-top: 14px; font-size: 13px"
                      class="text-muted d-flex justify-content-between px-2"
                    >
                      <span>
                        {{ note.createdAt | date: "dd MMM YY | hh:mm a" }}</span
                      >
                      <span *ngIf="note.createdAt != note.updatedAt">
                        <i class="fas fa-pencil-alt fa-fw"></i>
                        {{ note.updatedAt | date: "dd MMM YY | hh:mm a" }}</span
                      >
                    </h5>
                    <div
                      class="btn-group"
                      style="float: right; padding-top: 15px"
                      *ngIf="note.readonly == false"
                    >
                      <button
                        mat-raised-button
                        (click)="cancelEditNote(i)"
                        class="my-2 btn-danger"
                      >
                        Cancel
                      </button>
                      <button
                        mat-raised-button
                        (click)="updateNote(i)"
                        class="my-2 ml-3 btn-success"
                        style="color: white"
                        [ngClass]="{ disabled: !note.notes_message }"
                      >
                        Update
                      </button>
                    </div>
                  </div>
                  <div
                    class="col-2"
                    style="padding-top: 15px; text-align: center"
                  >
                    <h4 *ngIf="note.readonly == false">
                      <mat-icon
                        (click)="cancelEditNote(i)"
                        matTooltipPosition="above"
                        matTooltip="cancel edit"
                        >cancel</mat-icon
                      >
                    </h4>
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </mat-tab>
      <mat-tab
        label="Archived"
        [ngStyle]="{
          'background-color': brightness
            ? 'rgb(245, 245, 245)'
            : ' rgb(31, 32, 35)',
          color: brightness ? '#E84858' : 'violet'
        }"
      >
        <mat-card
          *ngIf="notesData && notesData.length > 0"
          [ngStyle]="{
            'background-color': brightness
              ? 'rgb(245, 245, 245)'
              : ' rgb(31, 32, 35)',
            color: brightness ? 'black' : 'rgb(129,129,129)'
          }"
          style="margin-top: 20px"
        >
          <mat-card-content>
            <div class="row">
              <div
                class="col-sm-6 col-lg-6"
                *ngFor="let note of notesData; let i = index"
                [hidden]="note.archived == false"
              >
                <div class="archivedNotes" *ngIf="note.archived">
                  <mat-card
                    class="mb-5"
                    [ngStyle]="{
                      'background-color': brightness
                        ? 'rgb(245, 245, 245)'
                        : ' rgb(41, 42, 45)',
                      color: brightness ? 'black' : 'rgb(129,129,129)'
                    }"
                  >
                    <mat-card-title>
                      <h5>
                        <span>
                          <mat-icon
                            class="icon_align"
                            [ngStyle]="{
                              color: brightness ? '#E84858' : 'violet'
                            }"
                            >description</mat-icon
                          >
                          {{ note.notes_title }}
                        </span>
                        <span>
                          <mat-icon
                            class="mx-2"
                            style="cursor: pointer"
                            [ngStyle]="{
                              color: brightness ? '#E84858' : 'violet'
                            }"
                            (click)="deleteNote(i)"
                            matTooltipPosition="above"
                            matTooltip="delete"
                            >delete_forever</mat-icon
                          >

                          <mat-icon
                            class="mx-2"
                            [ngStyle]="{
                              color: brightness ? '#E84858' : 'violet'
                            }"
                            (click)="unArchive(i)"
                            matTooltipPosition="above"
                            matTooltip="unarchive"
                            >unarchive</mat-icon
                          ></span
                        >
                      </h5>
                    </mat-card-title>
                    <hr />
                    <mat-card-content>
                      <pre
                        class="notes_message"
                        [ngStyle]="{
                          color: brightness ? 'black' : 'rgb(129,129,129)'
                        }"
                        >{{ note.notes_message }}</pre
                      >
                    </mat-card-content>
                    <mat-card-footer>
                      <h5
                        class="text-muted d-flex justify-content-between px-2"
                      >
                        <span>
                          {{
                            note.createdAt | date: "dd MMM YY | hh:mm a"
                          }}</span
                        >
                        <span *ngIf="note.createdAt != note.updatedAt">
                          <i class="fas fa-pencil-alt fa-fw"></i>
                          {{
                            note.updatedAt | date: "dd MMM YY | hh:mm a"
                          }}</span
                        >
                      </h5>
                    </mat-card-footer>
                  </mat-card>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </mat-tab>
      <mat-tab
        label="To-do lists"
        [ngStyle]="{
          'background-color': brightness
            ? 'rgb(245, 245, 245)'
            : ' rgb(31, 32, 35)',
          color: brightness ? '#E84858' : 'violet'
        }"
      >
        <mat-card
          class="noTodos"
          *ngIf="allTodos && allTodos.length == 0"
          [ngStyle]="{
            'background-color': brightness
              ? 'rgb(245, 245, 245)'
              : ' rgb(31, 32, 35)',
            color: brightness ? 'black' : 'rgb(129,129,129)'
          }"
          style="
            margin-top: 20px;
            min-height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
          "
        >
          <h3><i class="fas fa-info-circle"></i> Nothing here ðŸ™„</h3>
        </mat-card>
        <mat-card
          *ngIf="allTodos && allTodos.length > 0"
          [ngStyle]="{
            'background-color': brightness
              ? 'rgb(245, 245, 245)'
              : ' rgb(31, 32, 35)',
            color: brightness ? 'black' : 'rgb(129,129,129)'
          }"
          style="margin-top: 20px"
        >
          <mat-card-content>
            <div class="row">
              <div class="col-12" *ngIf="anyTaskPinned">
                <h4><mat-icon class="icon_align">push_pin</mat-icon> Tasks</h4>
              </div>

              <div
                class="col-sm-6 col-lg-6"
                *ngFor="let todo of allTodos; let i = index"
                [hidden]="todo.pinned == false"
              >
                <div
                  class="row pinnedTodo"
                  *ngIf="todo.readonly == true && todo.pinned == true"
                >
                  <div class="col-10">
                    <mat-card
                      class="mb-5 todoList"
                      [ngStyle]="{
                        'background-color': brightness
                          ? 'rgb(245, 245, 245)'
                          : ' rgb(41, 42, 45)',
                        color: brightness ? 'black' : 'rgb(129,129,129)'
                      }"
                    >
                      <mat-card-title>
                        <h5>
                          <span>
                            {{ todo.todo_title }}
                            <mat-icon
                              class="mx-1"
                              *ngIf="checkAllTasks(todo)"
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              style="
                                position: relative;
                                top: 2px;
                                font-size: 20px;
                              "
                              >task_alt</mat-icon
                            >
                          </span>
                          <span>
                            <mat-icon
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              (click)="pinTodo(i, 'unpin')"
                              matTooltipPosition="above"
                              matTooltip="unpin"
                              >push_pin</mat-icon
                            >
                          </span>
                        </h5>
                        <div class="taskProgress">
                          <div class="progress" style="height: 7px">
                            <div
                              class="progress-bar"
                              [ngStyle]="{
                                'background-color': brightness
                                  ? '#E84858'
                                  : 'violet'
                              }"
                              role="progressbar"
                              aria-valuemin="0"
                              aria-valuemax="100"
                              [style.width]="calcTaskProgress(todo)"
                              style="height: 7px"
                            ></div>
                          </div>
                        </div>
                      </mat-card-title>
                      <hr />
                      <mat-card-content>
                        <div
                          *ngFor="let list of todo.todo_list; let j = index"
                          class="p-field-checkbox"
                        >
                          <mat-checkbox
                            class="checkbox_content"
                            name="group2"
                            [value]="list.value"
                            (change)="updateCheck($event, i, j)"
                            [(ngModel)]="list.value"
                          >
                            <span
                              *ngIf="list.value == true"
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              style="text-decoration: line-through"
                            >
                              <span
                                [ngStyle]="{
                                  color: brightness
                                    ? 'black'
                                    : 'rgb(129,129,129)'
                                }"
                              >
                                {{ list.name }}</span
                              ></span
                            >
                            <span *ngIf="list.value == false">{{
                              list.name
                            }}</span>
                          </mat-checkbox>
                        </div>
                      </mat-card-content>
                      <mat-card-footer>
                        <h5
                          class="text-muted d-flex justify-content-between px-2"
                        >
                          <span>
                            {{
                              todo.createdAt | date: "dd MMM YY | hh:mm a"
                            }}</span
                          >
                          <span *ngIf="todo.createdAt != todo.updatedAt">
                            <i class="fas fa-pencil-alt fa-fw"></i>
                            {{
                              todo.updatedAt | date: "dd MMM YY | hh:mm a"
                            }}</span
                          >
                        </h5>
                      </mat-card-footer>
                    </mat-card>
                  </div>

                  <div class="col-2 controlIcons" style="padding-top: 5px">
                    <h4>
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="editTodo(i)"
                          matTooltipPosition="above"
                          matTooltip="edit note"
                          >edit</mat-icon
                        >
                      </button>
                    </h4>
                    <h4 *ngIf="todo.readonly == false">
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon (click)="cancelEditTodo(i)">cancel</mat-icon>
                      </button>
                    </h4>
                    <h4>
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="deleteTodo(i)"
                          matTooltipPosition="above"
                          matTooltip="delete todo"
                          >delete_forever</mat-icon
                        >
                      </button>
                    </h4>
                  </div>
                </div>

                <div
                  class="row editTodo"
                  *ngIf="todo.readonly == false && todo.pinned == true"
                >
                  <div class="col-10">
                    <mat-card
                      class="mb-5 todoList"
                      [ngStyle]="{
                        'background-color': brightness
                          ? 'rgb(245, 245, 245)'
                          : ' rgb(41, 42, 45)',
                        color: brightness ? 'black' : 'rgb(129,129,129)'
                      }"
                    >
                      <input
                        type="text"
                        class="form-control"
                        style="width: 100%"
                        [(ngModel)]="todo.todo_title"
                        placeholder="title"
                      />
                      <br />
                      <div *ngFor="let list of todo.todo_list; let j = index">
                        <div class="row">
                          <div class="col-10">
                            <textarea
                              type="text"
                              class="form-control"
                              style="width: 100%"
                              [(ngModel)]="list.name"
                              placeholder="options"
                              rows="4"
                            ></textarea>
                            <br />
                          </div>
                          <div class="col-2">
                            <mat-icon
                              (click)="deleteEditOption(i, j)"
                              style="cursor: pointer"
                              >cancel</mat-icon
                            >
                          </div>
                        </div>
                      </div>
                      <br />
                      <button
                        mat-raised-button
                        type="button"
                        class="btn-primary mr-3"
                        (click)="addMore(i)"
                      >
                        Add option
                      </button>
                      <button
                        mat-raised-button
                        type="button"
                        class="btn-primary mr-3"
                        (click)="updateTodo(i)"
                      >
                        Save
                      </button>
                    </mat-card>
                  </div>
                  <div class="col-2" style="padding-top: 15px">
                    <h4 *ngIf="todo.readonly == false">
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="cancelEditTodo(i)"
                          matTooltipPosition="above"
                          matTooltip="cancel edit"
                          >cancel</mat-icon
                        >
                      </button>
                    </h4>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <h4>
                  <mat-icon class="icon_align">description</mat-icon> Tasks
                </h4>
              </div>

              <div
                class="col-sm-6 col-lg-6"
                *ngFor="let todo of allTodos; let i = index"
                [hidden]="todo.pinned == true"
              >
                <div
                  class="row pinnedTodo"
                  *ngIf="todo.readonly == true && todo.pinned == false"
                >
                  <div class="col-10">
                    <mat-card
                      class="mb-5 todoList"
                      [ngStyle]="{
                        'background-color': brightness
                          ? 'rgb(245, 245, 245)'
                          : ' rgb(41, 42, 45)',
                        color: brightness ? 'black' : 'rgb(129,129,129)'
                      }"
                    >
                      <mat-card-title>
                        <h5>
                          <span>
                            {{ todo.todo_title }}
                            <mat-icon
                              class="mx-1"
                              *ngIf="checkAllTasks(todo)"
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              style="
                                position: relative;
                                top: 2px;
                                font-size: 20px;
                              "
                              >task_alt</mat-icon
                            >
                          </span>
                          <span>
                            <mat-icon
                              class="pin_icon"
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              (click)="pinTodo(i, 'pin')"
                              matTooltipPosition="above"
                              matTooltip="pin"
                              >push_pin</mat-icon
                            >
                          </span>
                        </h5>

                        <div class="taskProgress">
                          <div class="progress" style="height: 7px">
                            <div
                              class="progress-bar"
                              [ngStyle]="{
                                'background-color': brightness
                                  ? '#E84858'
                                  : 'violet'
                              }"
                              role="progressbar"
                              aria-valuemin="0"
                              aria-valuemax="100"
                              [style.width]="calcTaskProgress(todo)"
                              style="height: 7px"
                            ></div>
                          </div>
                        </div>
                      </mat-card-title>
                      <hr />
                      <mat-card-content>
                        <div
                          *ngFor="let list of todo.todo_list; let j = index"
                          class="p-field-checkbox"
                        >
                          <mat-checkbox
                            class="checkbox_content"
                            name="group2"
                            [value]="list.value"
                            (change)="updateCheck($event, i, j)"
                            [(ngModel)]="list.value"
                          >
                            <span
                              *ngIf="list.value == true"
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              style="text-decoration: line-through"
                            >
                              <span
                                [ngStyle]="{
                                  color: brightness
                                    ? 'black'
                                    : 'rgb(129,129,129)'
                                }"
                              >
                                {{ list.name }}</span
                              ></span
                            ><span *ngIf="list.value == false">{{
                              list.name
                            }}</span>
                          </mat-checkbox>
                        </div>
                      </mat-card-content>
                      <mat-card-footer>
                        <h5
                          class="text-muted d-flex justify-content-between px-2"
                        >
                          <span>
                            {{
                              todo.createdAt | date: "dd MMM YY | hh:mm a"
                            }}</span
                          >
                          <span *ngIf="todo.createdAt != todo.updatedAt">
                            <i class="fas fa-pencil-alt fa-fw"></i>
                            {{
                              todo.updatedAt | date: "dd MMM YY | hh:mm a"
                            }}</span
                          >
                        </h5>
                      </mat-card-footer>
                    </mat-card>
                  </div>
                  <div class="col-2 controlIcons" style="padding-top: 5px">
                    <h4>
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="editTodo(i)"
                          matTooltipPosition="above"
                          matTooltip="edit todo"
                          >edit</mat-icon
                        >
                      </button>
                    </h4>
                    <h4 *ngIf="todo.readonly == false">
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          (click)="cancelEditTodo(i)"
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          >cancel</mat-icon
                        >
                      </button>
                    </h4>
                    <h4>
                      <button
                        class="action_icon"
                        mat-mini-fab
                        [ngStyle]="{
                          'background-color': brightness
                            ? 'rgb(245, 245, 245)'
                            : ' rgb(41, 42, 45)'
                        }"
                      >
                        <mat-icon
                          [ngStyle]="{
                            color: brightness ? '#E84858' : 'violet'
                          }"
                          (click)="deleteTodo(i)"
                          matTooltipPosition="above"
                          matTooltip="delete todo"
                          >delete_forever</mat-icon
                        >
                      </button>
                    </h4>
                  </div>
                </div>

                <div
                  class="row editTodo"
                  *ngIf="todo.readonly == false && todo.pinned == false"
                >
                  <div class="col-10">
                    <mat-card
                      class="mb-5 todoList"
                      [ngStyle]="{
                        'background-color': brightness
                          ? 'rgb(245, 245, 245)'
                          : ' rgb(41, 42, 45)',
                        color: brightness ? 'black' : 'rgb(129,129,129)'
                      }"
                    >
                      <input
                        type="text"
                        class="form-control"
                        style="width: 100%"
                        [(ngModel)]="todo.todo_title"
                        placeholder="title"
                      />
                      <br />
                      <div *ngFor="let list of todo.todo_list; let j = index">
                        <div class="row">
                          <div class="col-10">
                            <textarea
                              type="text"
                              class="form-control"
                              style="width: 100%"
                              [(ngModel)]="list.name"
                              placeholder="options"
                              rows="4"
                            ></textarea>
                            <br />
                          </div>
                          <div class="col-2">
                            <mat-icon
                              (click)="deleteEditOption(i, j)"
                              style="cursor: pointer"
                              >cancel</mat-icon
                            >
                          </div>
                        </div>
                      </div>
                      <br />
                      <button
                        mat-raised-button
                        type="button"
                        class="btn-primary mr-3"
                        (click)="addMore(i)"
                      >
                        Add option
                      </button>
                      <button
                        mat-raised-button
                        type="button"
                        class="btn-primary mr-3"
                        (click)="updateTodo(i)"
                      >
                        Save
                      </button>
                    </mat-card>
                  </div>
                  <div class="col-2" style="padding-top: 15px">
                    <h4 *ngIf="todo.readonly == false">
                      <mat-icon
                        (click)="cancelEditTodo(i)"
                        matTooltipPosition="above"
                        matTooltip="cancel edit"
                        >cancel</mat-icon
                      >
                    </h4>
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </mat-tab>
      <mat-tab label="Snippets">
        <mat-card
          [ngStyle]="{
            'background-color': brightness
              ? 'rgb(245, 245, 245)'
              : ' rgb(31, 32, 35)',
            color: brightness ? '#E84858' : 'violet'
          }"
          style="margin-top: 20px; min-height: 200px"
        >
          <mat-card-content *ngIf="snippets">
            <div class="row">
              <div
                class="col-sm-6"
                *ngFor="let snip of snippets; let i = index"
                [ngStyle]="{
                  'margin-top': i > 1 ? '20px' : '0',
                  'margin-bottom': i > 1 ? '20px' : '0'
                }"
              >
                <div class="row">
                  <div class="col-10">
                    <div class="snippets">
                      <a
                        href="https://snippets.krishnakantsalkar.in/{{
                          snip._id
                        }}"
                        target="_blank"
                      >
                        <mat-card
                          [ngStyle]="{
                            'background-color': brightness
                              ? 'rgb(245, 245, 245)'
                              : ' rgb(41, 42, 45)',
                            color: brightness ? 'black' : 'rgb(129,129,129)'
                          }"
                          matTooltip="view full snippets"
                          matTooltipPosition="above"
                        >
                          <pre
                            [ngStyle]="{
                              color: brightness ? 'black' : 'white'
                            }"
                            >{{ snip.content }}</pre
                          >
                          <mat-card-footer
                            style="margin: 10px; font-size: 16px"
                          >
                            created on:
                            {{ snip.expireAt | date: "dd MMM YY | hh:mm a" }}
                          </mat-card-footer>
                        </mat-card></a
                      >
                    </div>
                  </div>
                  <div class="col-2">
                    <button
                      class="action_icon"
                      mat-mini-fab
                      [ngStyle]="{
                        'background-color': brightness
                          ? 'rgb(245, 245, 245)'
                          : ' rgb(41, 42, 45)'
                      }"
                    >
                      <mat-icon
                        style="cursor: pointer"
                        [ngStyle]="{
                          color: brightness ? '#E84858' : 'violet'
                        }"
                        matTooltip="delete snippet"
                        matTooltipPosition="above"
                        (click)="deleteSnippet(snip._id)"
                        >delete</mat-icon
                      >
                    </button>
                    <br />
                    <br />
                    <button
                      class="action_icon"
                      mat-mini-fab
                      [ngStyle]="{
                        'background-color': brightness
                          ? 'rgb(245, 245, 245)'
                          : ' rgb(41, 42, 45)'
                      }"
                    >
                      <mat-icon
                        style="cursor: pointer"
                        [ngStyle]="{
                          color: brightness ? '#E84858' : 'violet'
                        }"
                        matTooltip="copy snippet link"
                        matTooltipPosition="above"
                        (click)="
                          copyShareLink(
                            'https://snippets.krishnakantsalkar.in/' + snip._id
                          )
                        "
                        >content_copy</mat-icon
                      >
                    </button>
                    <br />
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
        <div
          class="snippets"
          *ngIf="snippets"
          [ngStyle]="{
            'background-color': brightness
              ? 'rgb(245, 245, 245)'
              : ' rgb(31, 32, 35)',
            color: brightness ? 'black' : 'rgb(129,129,129)'
          }"
        >
          <div *ngFor="let snip of snippets">
            <a href="http://snippets.krishnakantsalkar.in/{{ snip._id }}"></a>
          </div>
        </div>
      </mat-tab>
    </mat-tab-group>
    <div
      class="skeletonData"
      style="margin-top: 20px"
      [ngStyle]="{
        'background-color': brightness ? '#E84858' : ' rgb(32, 33, 33)',
        color: brightness ? 'black' : 'rgb(160,160,160)'
      }"
    >
      <p-skeleton *ngIf="!notesData" width="100%" height="400px"></p-skeleton>
    </div>
  </div>
</div>

<!-- footer area -->

<!-- </body>
</html> -->
