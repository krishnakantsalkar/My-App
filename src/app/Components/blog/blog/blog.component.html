<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <button (click)="topFunction()" id="myBtn" title="Go to top">
      <i class="fas fa-angle-up" aria-hidden="true"></i>
    </button>

    <!-- <a (click)="mode()" class="togglemode"><i class="fas fa-adjust"></i></a> -->
    <div
      class="top-panel"
      [ngStyle]="{
        'background-color': brightness
          ? 'rgb(223, 223, 223)'
          : ' rgb(41, 42, 45)'
      }"
    >
      <div class="container myname">
        <div class="row">
          <div class="col-sm-6 nametag">
            <h3
              class="n1"
              *ngIf="!brightness"
              [ngStyle]="{ color: brightness ? 'black' : 'rgb(129,129,129)' }"
            >
              > krishnakantsalkar@prototype:~<span class="one">$</span>
            </h3>

            <h3
              class="n2"
              *ngIf="brightness"
              [ngStyle]="{ color: brightness ? 'black' : 'rgb(129,129,129)' }"
            >
              > krishnakantsalkar@prototype:~<span class="two">$</span>
            </h3>
          </div>
          <div class="col-sm-6 links">
            <a class="navlink" routerLink="/Home"> Home</a>

            <a class="navlink" routerLink="/About">About</a>
            <a class="navlink" routerLink="/Support">Support</a>
          </div>
        </div>
      </div>
    </div>
    <div
      class="content"
      [ngStyle]="{
        'background-color': brightness ? 'white' : ' rgb(41, 42, 45)'
      }"
    ></div>
    <div
      class="cvrimg"
      [ngStyle]="{
        'background-color': brightness ? 'white' : ' rgb(41, 42, 45)'
      }"
    >
      <div class="coverimg container"></div>
    </div>
    <div
      class="bloglinks"
      [ngStyle]="{
        'background-color': brightness ? 'white' : ' rgb(41, 42, 45)'
      }"
    >
      <div class="container">
        <h1>
          <b>2020</b>
          <i
            class="fab fa-searchengin"
            style="margin-left: 20px;"
            (click)="showsearch()"
            [ngClass]="{ searchenginL: brightness, searchenginD: !brightness }"
            title="Search!"
          ></i>
        </h1>
        <form [formGroup]="newSearch" (ngSubmit)="Search(newSearch.value)">
          <div class="input-container">
            <i class="fas fa-search icon" id="searchicon"></i>
            <input
              type="text"
              id="searchbar"
              placeholder=""
              formControlName="post"
              class="input-field"
            />
            <button class="btn btn-success" id="searchsubmit" type="submit">
              <i class="fas fa-check-square"></i>
            </button>
            <button
              class="btn btn-danger"
              id="searchcancel"
              (click)="hidesearch()"
            >
              <i class="fas fa-window-close"></i>
            </button>
          </div>
        </form>
        <div class="searchResult" *ngIf="searchResult">
          <div
            class="card"
            data-aos="fade-up"
            data-aos-delay="300"
            data-aos-duration="1000"
          >
            <h3 align="center">Search Results</h3>
            <p align="center" *ngIf="searchResult.length == 0">
              Doesnt look like anythng~
            </p>
            <div class="card-body" *ngIf="searchResult.length > 0">
              <div class="row">
                <div
                  class="col-xs-3 queryResult"
                  *ngFor="let result of searchResult"
                >
                  <a routerLink="/Blog/{{ result._id }}">
                    {{ result.postNumber }}: {{ result.postTitle }}</a
                  >
                  <br />
                  {{ result.post | slice: 0:90 }}
                  <span routerLink="/Blog/{{ result._id }}">....</span>

                  <br *ngIf="searchResult" />
                </div>
              </div>
              <div class="clearbtn">
                <button class="btn btn-danger" (click)="cancel()">
                  Clear
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- add a loading... animation -->

        <div class="loading" *ngIf="!data">
          <h4 *ngIf="!brightness" class="loadinganimDark">Loading...</h4>
          <h4 *ngIf="brightness" class="loadinganimLight">Loading...</h4>
        </div>

        <button
          class="btn btn-warning"
          style="float: right;"
          *ngIf="checkUser"
          (click)="createPostmethod()"
        >
          Create post
        </button>
        <br *ngIf="checkUser" />
        <br />

        <!-- Create post area -->

        <div class="createpost" *ngIf="createPost">
          <div class="card">
            <div class="card-header">
              <h1>Create post</h1>
            </div>
            <div class="card-body">
              <h3>Upload image</h3>
              <div *ngIf="currentBlogImgP">
                <img
                  [src]="currentBlogImgP"
                  style="height: 200px; width: auto;"
                />
              </div>

              <br />

              <input
                type="file"
                class="blogpimg"
                fomrControlName="postImage"
                multiple
                (change)="selection($event)"
              />
              <br />
              <br />
              <button
                type="submit"
                class="btn btn-info"
                (click)="SubmitFile()"
                style="margin-right: 15px;"
              >
                upload
              </button>
              <button
                type="reset"
                class="btn btn-danger"
                (click)="currentBlogImgP = null"
              >
                reset
              </button>
              <br />
              <br />
              <form
                [formGroup]="newPost"
                (ngSubmit)="
                  SubmitPost(newPost.value); channelPost(newPost.value)
                "
              >
                <div class="form-group">
                  <div class="form-row">
                    <label>Post Number</label>
                    <input
                      class="form-control"
                      type="number"
                      formControlName="postNumber"
                      placeholder="#"
                      min="2"
                      onKeyPress="if(this.value.length==10) return false;"
                    />
                  </div>
                  <div class="form-row">
                    <label>Post Title</label>
                    <input
                      class="form-control"
                      type="text"
                      formControlName="postTitle"
                      placeholder="Enter Title"
                    />
                  </div>
                  <div class="form-row">
                    <label>Post Content</label>
                    <textarea
                      class="form-control"
                      type="text"
                      formControlName="post"
                      placeholder="Post"
                    >
                    </textarea>
                  </div>
                  <div class="form-row">
                    <label>External Link</label>
                    <input
                      class="form-control"
                      type="text"
                      formControlName="postLink"
                      placeholder="Link"
                    />
                  </div>
                </div>
                <button
                  type="reset"
                  class="btn btn-primary cancel"
                  (click)="createPostmethod()"
                >
                  Cancel
                </button>
                <button type="submit" class="btn btn-success">Submit</button>
              </form>
            </div>
          </div>
        </div>

        <!-- Blog data -->
        <div class="blogdata" *ngIf="data">
          <div class="loopdata" *ngFor="let d of data">
            <!-- <hr *ngIf="data" style="background-color: white;" /> -->
            <br />
            <div class="container">
              <div class="row">
                <div
                  class="col-sm-4 pstimg"
                  data-aos="fade-right"
                  data-aos-delay="300"
                  data-aos-duration="1000"
                  *ngIf="d.postImage"
                  [ngStyle]="{
                    'border-color': brightness ? 'rgb(255, 77, 77)' : 'violet'
                  }"
                  [ngClass]="{
                    blgdata: d.postImage
                  }"
                >
                  <img src="{{ d.postImage }}" />
                </div>
                <div
                  id="scrolldata"
                  class="body col-sm-8"
                  data-aos="fade-up"
                  data-aos-delay="300"
                  data-aos-duration="1000"
                  [ngClass]="{
                    'col-sm-12': !d.postImage,
                    blgdata: !d.postImage
                  }"
                  [ngStyle]="{
                    'border-color': brightness ? 'rgb(255, 77, 77)' : 'violet'
                  }"
                >
                  <h2
                    [ngStyle]="{
                      color: brightness ? 'black' : 'rgb(129,129,129)'
                    }"
                    style="padding-top: 20px;"
                  >
                    <a routerLink="/Blog/{{ d._id }}" *ngIf="data"
                      >#{{ d.postNumber }}: {{ d.postTitle }}</a
                    >
                    <!-- post edited or not -->
                    <h6
                      [ngStyle]="{
                        color: brightness ? 'black' : 'rgb(129,129,129)'
                      }"
                    >
                      <span *ngIf="d.edited == true"
                        ><i class="fas fa-pencil-alt"></i> edited.</span
                      >
                      <span style="float: right;"
                        ><i class="fas fa-eye"></i
                      ></span>
                    </h6>
                    <h5
                      *ngIf="data"
                      [ngStyle]="{
                        color: brightness ? 'black' : 'rgb(129,129,129)'
                      }"
                    >
                      {{ d.postDate }}
                    </h5>
                  </h2>
                  <p
                    *ngIf="data"
                    [ngStyle]="{
                      color: brightness ? 'black' : 'rgb(129,129,129)'
                    }"
                    style="padding-bottom: 30px;"
                  >
                    {{ d.post | slice: 0:130 }}...
                    <a routerLink="/Blog/{{ d._id }}"> Read more</a>
                  </p>
                </div>
              </div>
            </div>
            <br />
            <hr
              *ngIf="data"
              data-aos="fade-up"
              data-aos-delay="300"
              data-aos-duration="1000"
              class="divider"
              [ngStyle]="{
                'background-color': brightness ? ' rgb(41, 42, 45)' : 'white'
              }"
            />
          </div>
        </div>
        <div class="pagebtn" *ngIf="data">
          <button
            class="btn"
            [disabled]="pageNo == 1"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="blogsP(1)"
          >
            1
          </button>
          <button
            class="btn"
            [disabled]="pageNo == 2"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="blogsP(2)"
          >
            2
          </button>

          <button
            class="btn"
            [disabled]="pageNo == 3"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="blogsP(3)"
          >
            3
          </button>
          <button
            *ngIf="datacount > 15"
            class="btn"
            [disabled]="pageNo == 4"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="blogsP(4)"
          >
            4
          </button>
          <button
            *ngIf="datacount > 20"
            class="btn"
            [disabled]="pageNo == 5"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="blogsP(5)"
          >
            5
          </button>
        </div>
      </div>
    </div>

    <!-- Footer area -->
    <div
      class="footer"
      [ngStyle]="{
        'background-color': brightness
          ? 'rgb(223, 223, 223)'
          : ' rgb(41, 42, 45)'
      }"
    >
      <div class="footer-text">
        <h6 [ngStyle]="{ color: brightness ? 'black' : 'rgb(129,129,129)' }">
          <i
            class="fas fa-copyright"
            [ngStyle]="{ color: brightness ? 'red' : 'violet' }"
          ></i>
          2020 Krishnakant Salkar, Made with
          <i
            class="fas fa-heartbeat"
            [ngStyle]="{ color: brightness ? 'red' : 'violet' }"
          ></i>
          using Angular 9...
        </h6>
      </div>
    </div>
  </body>
</html>
