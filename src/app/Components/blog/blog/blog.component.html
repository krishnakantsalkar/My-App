<!-- <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head> -->
<body
  class="blogBody"
  [ngStyle]="{
    'background-color': brightness ? 'rgb(200, 200, 200)' : 'rgb(41, 42, 45)'
  }"
>
  <!-- overlays -->

  <ng-template #blogPostDialog>
    <div
      style="min-height: 20vh"
      [ngStyle]="{
        'background-color': brightness
          ? 'rgb(235, 235, 235)'
          : ' rgb(41, 42, 45)',
        color: brightness ? '#E84858' : 'violet'
      }"
      *ngIf="logResponse"
    >
      <h3 style="text-align: center">
        <br />
        <h5>#{{ logResponse.postNumber }}</h5>
        <h5>Post Title: {{ logResponse.postTitle }}</h5>
      </h3>
      <div
        [ngStyle]="{ color: brightness ? '#E84858' : 'violet' }"
        *ngIf="errResponse"
      >
        <h3 style="text-align: center">
          <br />
          <h5>#{{ errResponse }}</h5>
        </h3>
      </div>
      <hr />
      <div style="text-align: center">
        <button
          mat-raised-button
          mat-dialog-close
          [ngStyle]="{
            'background-color': brightness
              ? 'rgb(235, 235, 235)'
              : ' rgb(31, 32, 35)',
            color: brightness ? '#E84858' : 'violet'
          }"
          tabindex="-1"
        >
          OK
        </button>
      </div>
    </div>
  </ng-template>

  <!-- background -->
  <div
    class="content"
    [ngStyle]="{
      'background-color': brightness ? 'rgb(200, 200, 200)' : ' rgb(41, 42, 45)'
    }"
  ></div>

  <!-- social sharing buttons (new) -->
  <!-- 
    <div class="sharingBtns" *ngIf="blogURL">
      <div class="fbShare">
        <a
          class="fbLink"
          href="https://www.facebook.com/sharer.php?u={{ blogURL }}"
          target="_blank"
        >
          <i class="fab fa-facebook-f"></i
        ></a>
      </div>
      <div class="twitterShare">
        <a
          href="https://www.twitter.com/share?text=The-Arsonist's Blog page&url={{
            blogURL
          }}"
          target="_blank"
        >
          <i class="fab fa-twitter"></i
        ></a>
      </div>
      <div class="mailShare">
        <a
          href="mailto:someone@example.com?subject=Heyy!%20Check%20out%20this%20Post%20!!&amp;body=%20{{
            blogURL
          }}"
          target="_blank"
        >
          <i class="fas fa-at"></i
        ></a>
      </div>

      <div class="linkedInShare">
        <a
          href="https://www.linkedin.com/shareArticle?mini=true&url={{
            blogURL
          }}"
          target="_blank"
        >
          <i class="fab fa-linkedin-in"></i
        ></a>
      </div>
      <div class="redditShare">
        <a
          href="https://www.reddit.com/submit?url={{ blogURL }}"
          target="_blank"
          ><i class="fab fa-reddit-alien"></i
        ></a>
      </div>
      <div class="tgShare">
        <a
          href="https://telegram.me/share/url?url={{ blogURL }}"
          target="_blank"
        >
          <i class="fab fa-telegram-plane"></i
        ></a>
      </div>
    </div> -->

  <!-- cover img container -->
  <div
    class="cvrimg container"
    [ngStyle]="{
      'background-color': brightness ? 'rgb(200, 200, 200)' : ' rgb(41, 42, 45)'
    }"
  >
    <!-- Bootstrap Carousel -->
    <div id="carousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ul class="carousel-indicators">
        <li data-target="#carousel" data-slide-to="0" class="active"></li>
        <li data-target="#carousel" data-slide-to="1"></li>
        <li data-target="#carousel" data-slide-to="2"></li>
        <li data-target="#carousel" data-slide-to="3"></li>
      </ul>

      <!-- The slideshow -->
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="assets/images/new banner final 19-feb-22.jpg" />
          <div class="carousel-caption">
            <h6>Angular | React | NEXT | Vue | Node | MongoDB</h6>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="https://res.cloudinary.com/dq766ltjh/image/upload/v1603720093/blog%20cover/Adobe_Post_20200807_1743590.23573714086058384_h83kqo.jpg"
            alt="Photo By Negative Space, Pexels"
          />
          <div class="carousel-caption">
            <h6>Web | Android | Python | Gaming</h6>
            <a
              class="carouselImgLinks"
              href="https://www.pexels.com/photo/office-working-app-computer-97077/"
              >Photo by Negative Space, Pexels</a
            >
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="assets/images/pexels-luis-gomes-546819.jpg"
            alt="Photo By Luis Gomes, Pexels"
          />
          <div class="carousel-caption">
            <h3>Custom Development</h3>
            <p>Fast, Detailed, Material Design</p>
            <p>
              <a
                class="carouselImgLinks"
                href="https://www.pexels.com/photo/blur-close-up-code-computer-546819/"
                >Photo by Luis Gomes, Pexels</a
              >
            </p>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="assets/images/pexels-neo-2653362.jpg"
            alt="Photo By Neo, Pexels"
          />
          <div class="carousel-caption">
            <h3>Debug</h3>
            <p>"Hello World"</p>
            <p>
              <a
                style="float: left; margin-bottom: 20px"
                class="carouselImgLinks"
                href="https://www.pexels.com/photo/lines-of-code-2653362/"
                >Photo by Neo, Pexels</a
              >
            </p>
          </div>
        </div>
      </div>

      <!-- Left and right controls -->
      <a class="carousel-control-prev" href="#carousel" data-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </a>
      <a class="carousel-control-next" href="#carousel" data-slide="next">
        <span class="carousel-control-next-icon"></span>
      </a>
    </div>
  </div>

  <div
    class="bloglinks"
    [ngStyle]="{
      'background-color': brightness ? 'rgb(200, 200, 200)' : ' rgb(41, 42, 45)'
    }"
  >
    <div class="container" id="main">
      <br />
      <div class="quotes_container">
        <div class="AllFilter">
          <h1>
            <!-- <b
                id="twothousandtwenty"
                [ngClass]="brightness ? 'lightHover' : 'darkHover'"
                (click)="showAllList()"
                >All</b
              > -->
            Blog
          </h1>
        </div>
        <!-- <div class="col-2 col-lg-1 YearFilter">
            <h1>
              <i
                class="fab fa-searchengin"
                style="margin-left: 20px"
                (click)="showsearch()"
                [ngClass]="{
                  searchenginL: brightness,
                  searchenginD: !brightness
                }"
                title="Search!"
              ></i>
            </h1>
          </div> -->
        <div
          class="quotes_card"
          style="height: auto; width: 100%; text-align: center"
        >
          <mat-card
            appearance="raised"
            class="alert alert-custom"
            [ngStyle]="{
              'background-color': brightness ? '#E84858' : ' rgb(32, 33, 33)',
              color: brightness ? 'white' : 'rgb(160,160,160)'
            }"
            *ngIf="movieQArr"
            >"{{ movieQ }}" ~ {{ movieName }}</mat-card
          >
        </div>
        <mat-icon
          class="quote_refresh"
          [ngClass]="brightness ? 'lightHover' : 'darkHover'"
          [ngStyle]="{
            color: brightness ? 'rgb(51,52,56)' : 'rgb(160,160,160)'
          }"
          (click)="getMovieQuotes()"
          >autorenew</mat-icon
        >
      </div>
      <!-- <div style="display: inline-block">
          <h1
            (click)="showYearList()"
            style="cursor: pointer; display: inline-block"
            class="showYearOpt"
          >
            <b>Year</b>
          </h1>
          <span
            class="showArrow"
            style="display: inline-block; margin-left: 8px"
            ><h1><b>></b></h1></span
          >

          <div class="alert showYears">
            <span (click)="blogsP(1, 2020)"
              ><h1 [ngClass]="{ fadeYear: pageYear == 2020 }">2020</h1></span
            >
            <span (click)="blogsP(1, 2021)"
              ><h1 [ngClass]="{ fadeYear: pageYear == 2021 }">2021</h1></span
            >
            <span (click)="blogsP(1, 2022)"
              ><h1 [ngClass]="{ fadeYear: pageYear == 2022 }">2022</h1></span
            >
            <span (click)="clearYear()">
              <h1 class="showYearsDefault">
                <i class="fas fa-times-circle"></i>
              </h1>
            </span>
          </div>
        </div> -->

      <div class="blog-toolbar">
        <!-- search input field -->
        <div>
          <mat-form-field
            class="no-pad"
            appearance="outline"
            [ngClass]="brightness ? 'inputTextColorD' : 'inputTextColorL'"
          >
            <mat-label>year</mat-label>
            <mat-select (selectionChange)="blogsP(1, $event.value)">
              <mat-option selected> All </mat-option>
              <mat-option
                *ngFor="
                  let year of [].constructor(date.getFullYear() - 2019);
                  let i = index
                "
                [value]="date.getFullYear() - i"
              >
                {{ date.getFullYear() - i }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <form>
          <div class="input-container" id="input-container">
            <mat-form-field
              class="no-pad"
              appearance="outline"
              [ngClass]="brightness ? 'inputTextColorD' : 'inputTextColorL'"
            >
              <input
                type="text"
                id="searchbar"
                placeholder=""
                #search
                matInput
              />

              <i
                matSuffix
                class="fas fa-search"
                (click)="Search(search.value)"
                [ngStyle]="{
                  color: brightness ? 'black' : 'white'
                }"
              ></i>
            </mat-form-field>

            <br />
          </div>
        </form>

        <button
          id="createPost_btn"
          mat-raised-button
          class="btn-warning mx-1"
          style="float: right; height: 56px"
          (click)="createPostmethod($event)"
          *ngIf="checkUser"
          [ngStyle]="{
            'background-color': brightness ? '#E84858' : 'violet',
            color: brightness ? 'white' : 'initial'
          }"
        >
          <span class="material-icons" *ngIf="!createPost"> feed </span>
          <span class="material-icons" *ngIf="createPost"> close </span>

          <!-- Create post -->
        </button>

        <button
          mat-raised-button
          class="btn-primary mx-1"
          (click)="openShareSheet()"
          style="height: 56px"
        >
          <mat-icon>share</mat-icon>
        </button>
      </div>

      <div class="searchResult" id="searchResult" *ngIf="searchResult">
        <mat-card
          appearance="raised"
          appearance="raised"
          data-aos="fade-up"
          data-aos-delay="300"
          data-aos-duration="1000"
          data-aos-once="true"
          [ngStyle]="{
            'background-color': brightness
              ? 'rgb(223, 223, 223)'
              : ' rgb(35,36,37)',
            color: brightness ? 'black' : 'white'
          }"
        >
          <h3 align="center">Search Results</h3>
          <p align="center" *ngIf="searchResult.length == 0">
            Doesnt look like anythng~
          </p>
          <mat-card-content *ngIf="searchResult.length > 0">
            <div class="row">
              <div
                class="col-xs-3 queryResult"
                *ngFor="let result of searchResult"
              >
                <a
                  routerLink="/blog/{{ result.postNumber }}/{{
                    result.postTitle
                  }}/{{ result._id }}"
                  [ngStyle]="{ color: brightness ? '#E84858' : 'violet' }"
                >
                  {{ result.postNumber }}: {{ result.postTitle }}</a
                >
              </div>
            </div>
            <div class="clearbtn">
              <button mat-raised-button class="btn-danger" (click)="cancel()">
                Clear
              </button>
            </div>
          </mat-card-content>
        </mat-card>
        <br />
      </div>

      <br />
      <!-- Create post area -->

      <div class="createpost" *ngIf="createPost">
        <mat-card
          appearance="raised"
          appearance="raised"
          [ngStyle]="{
            'background-color': brightness
              ? 'rgb(223, 223, 223)'
              : ' rgb(35, 36, 38)',
            color: brightness ? 'black' : 'white'
          }"
        >
          <mat-card-title>
            <h1>Create post</h1>
          </mat-card-title>
          <div class="card-body">
            <h3>Upload image</h3>
            <div *ngIf="currentBlogImgP">
              <img
                [src]="currentBlogImgP"
                style="height: 200px; width: auto; max-width: 100%"
              />
            </div>

            <br />

            <button
              mat-raised-button
              class="btn-primary"
              (click)="fileUpload.click()"
            >
              Upload
            </button>
            <span class="mx-2" *ngIf="currentBlogImgP"
              >File: {{ currentBlogImg.name }} | Size:
              {{ (currentBlogImg.size / 1000000).toFixed(2) }} MB
            </span>

            <input
              type="file"
              class="blogpimg d-none"
              fomrControlName="postImage"
              (change)="selection($event)"
              #fileUpload
            />
            <br />
            <hr />
            <form [formGroup]="newPost" (ngSubmit)="SubmitPost(newPost.value)">
              <div class="form-group">
                <div class="row">
                  <div class="postNumberInput col-sm-6">
                    <mat-form-field
                      appearance="outline"
                      [ngClass]="
                        brightness ? 'inputTextColorD' : 'inputTextColorL'
                      "
                    >
                      <mat-label for="postNumberInput">Post Number</mat-label>
                      <input
                        matInput
                        type="number"
                        formControlName="postNumber"
                        placeholder="#"
                        min="2"
                        readonly
                      />
                    </mat-form-field>
                  </div>
                  <div class="postTitleInput col-sm-6">
                    <mat-form-field
                      appearance="outline"
                      [ngClass]="
                        brightness ? 'inputTextColorD' : 'inputTextColorL'
                      "
                    >
                      <mat-label for="postTitleInput">Post Title</mat-label>
                      <input
                        matInput
                        type="text"
                        formControlName="postTitle"
                        placeholder="Enter Title"
                        (change)="cachePost()"
                      />
                    </mat-form-field>
                  </div>
                </div>
                <div class="link row">
                  <div class="col-12">
                    <label for="">add Link</label>
                    <mat-icon
                      class="mx-2"
                      (click)="addLink()"
                      style="
                        color: #1f7ce0;
                        cursor: pointer;
                        position: relative;
                        top: 5px;
                      "
                      [ngStyle]="{
                        'pointer-events':
                          postLinks.length >= 10 ? 'none' : 'all',

                        opacity: postLinks.length >= 10 ? '0.7' : '1'
                      }"
                    >
                      add_circle
                    </mat-icon>
                  </div>
                </div>
                <div class="form-row">
                  <div
                    class="col-sm-6"
                    *ngFor="let link of postLinks; let i = index"
                  >
                    <div class="row">
                      <div class="col-11">
                        <mat-form-field
                          appearance="outline"
                          [ngClass]="
                            brightness ? 'inputTextColorD' : 'inputTextColorL'
                          "
                        >
                          <mat-label>link</mat-label>
                          <input
                            type="text"
                            matInput
                            [(ngModel)]="link.link"
                            [ngModelOptions]="{ standalone: true }"
                            (change)="cachePost()"
                          />
                        </mat-form-field>
                      </div>
                      <div class="col-1 p-0">
                        <mat-icon
                          style="
                            color: #e84858;
                            cursor: pointer;
                            margin-top: 50%;
                          "
                          (click)="removeLink(i)"
                          [ngStyle]="{
                            display: i == 0 ? 'none' : 'inline-block'
                          }"
                          >cancel</mat-icon
                        >
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-12">
                    <mat-form-field
                      appearance="outline"
                      [ngClass]="
                        brightness ? 'inputTextColorD' : 'inputTextColorL'
                      "
                    >
                      <mat-label>Author</mat-label>
                      <input
                        type="text"
                        matInput
                        formControlName="postAuthor"
                        placeholder=""
                        readonly
                      />
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </form>
            <div class="row">
              <div class="col-12">
                <mat-form-field
                  class="example-chip-list"
                  appearance="outline"
                  [ngClass]="brightness ? 'inputTextColorD' : 'inputTextColorL'"
                >
                  <mat-label>Tags</mat-label>
                  <mat-chip-grid #chipList aria-label="Fruit selection">
                    <mat-chip-row
                      *ngFor="let tag of tags"
                      (removed)="removeTag(tag)"
                    >
                      {{ tag.name }}
                      <button matChipRemove>
                        <mat-icon>cancel</mat-icon>
                      </button>
                    </mat-chip-row>
                    <input
                      placeholder="New tag..."
                      [matChipInputFor]="chipList"
                      [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                      [matChipInputAddOnBlur]="addOnBlur"
                      (matChipInputTokenEnd)="addTag($event)"
                    />
                  </mat-chip-grid>
                </mat-form-field>
              </div>
            </div>

            <br />
            <div>
              <label>Post Content</label>
              <br />

              <!-- <quill-editor
                  theme="snow"
                  [(ngModel)]="markdown"
                  [modules]="config"
                  class="quillText"
                  (ngModelChange)="cachePost()"
                >
                </quill-editor> -->
              <ckeditor
                [(ngModel)]="markdown"
                [editor]="Editor"
                [ngStyle]="{
                  'background-color': brightness
                    ? 'rgb(223, 223, 223)'
                    : ' rgb(35, 36, 38)',
                  color: brightness ? 'black' : 'rgb(129,129,129)'
                }"
                (ngModelChange)="cachePost()"
                (ready)="onCkReady($event)"
              ></ckeditor>

              <br />
              <br />
            </div>
            <br />
            <button
              mat-raised-button
              type="reset"
              class="btn-danger cancel"
              (click)="createPostmethod($event)"
            >
              Cancel
            </button>
            <button
              mat-raised-button
              type="submit"
              class="btn-success"
              [disabled]="!newPost.valid"
              (click)="confirmPost()"
            >
              Submit
              <span
                id="uploadSpinner"
                class="spinner-border spinner-border-sm"
              ></span>
              <span id="uploadCheck"> <i class="fas fa-check-circle"></i></span>
            </button>
            <br />
            <br />
            <div
              class="alert alert-danger"
              style="width: 30%"
              *ngIf="blogErrMsg"
            >
              {{ blogErrMsg }}
            </div>
          </div>
        </mat-card>

        <br />
      </div>

      <!-- blog data -->

      <!-- Skeleton Loading animation -->
      <div class="row" *ngIf="!data">
        <div class="skeletonData col-sm-8">
          <div
            class="card custom-skeleton"
            [ngStyle]="{
              'background-color': brightness ? '#E84858' : ' rgb(32, 33, 33)',
              color: brightness ? 'black' : 'rgb(160,160,160)'
            }"
          >
            <div class="card-img-top">
              <p-skeleton width="100%" height="400px"></p-skeleton>
            </div>
            <div class="card-body">
              <div>
                <p-skeleton
                  width="12rem"
                  height="2rem"
                  styleClass="p-mb-2"
                ></p-skeleton>
                <br />
                <div class="d-flex">
                  <p-skeleton
                    *ngFor="let item of [].constructor(4)"
                    width="5rem"
                    height="2rem"
                    styleClass="p-mb-2 "
                    class="ml-2"
                  ></p-skeleton>
                </div>
              </div>

              <br />
              <div style="margin-left: auto; margin-right: auto; width: 90%">
                <p-skeleton width="100%" height="250px"></p-skeleton>
              </div>
              <br />
              <div class="p-d-flex p-jc-between p-mt-3 float-left">
                <p-skeleton width="4rem" height="2rem"></p-skeleton>
              </div>
              <div class="p-d-flex p-jc-between p-mt-3 float-right">
                <p-skeleton width="4rem" height="2rem"></p-skeleton>
              </div>
            </div>
          </div>
        </div>

        <div class="col-sm-4">
          <div
            class="card custom-skeleton"
            [ngStyle]="{
              'background-color': brightness ? '#E84858' : ' rgb(32, 33, 33)',
              color: brightness ? 'black' : 'rgb(160,160,160)'
            }"
          >
            <p-skeleton height="2rem" width="100%"></p-skeleton>
            <br />
            <p-skeleton width="100%" height="200px"></p-skeleton>
          </div>

          <div
            class="card custom-skeleton mt-4"
            [ngStyle]="{
              'background-color': brightness ? '#E84858' : ' rgb(32, 33, 33)',
              color: brightness ? 'black' : 'rgb(160,160,160)'
            }"
          >
            <p-skeleton height="2rem" width="100%"></p-skeleton>
            <br />
            <p-skeleton width="100%" height="200px"></p-skeleton>
          </div>
        </div>
      </div>

      <hr />
      <br />

      <div class="row">
        <div class="blogdata col-sm-8" *ngIf="data">
          <ng-container *ngFor="let d of data; let i = index">
            <div class="row blog-item">
              <div class="col-2" *ngIf="window.innerWidth > 600">
                <div class="post_actions">
                  <button
                    class="action_icon"
                    *ngIf="checkUser"
                    tabindex="-1"
                    mat-mini-fab
                    data-aos="fade-left"
                    data-aos-delay="300"
                    data-aos-duration="1000"
                    data-aos-once="true"
                    [ngStyle]="{
                      'background-color': brightness
                        ? 'rgb(245, 245, 245)'
                        : ' rgb(41, 42, 45)'
                    }"
                    (click)="clickEditPost(i)"
                  >
                    <mat-icon
                      [ngStyle]="{
                        color: brightness ? '#E84858' : 'violet'
                      }"
                      matTooltipPosition="above"
                      matTooltip="edit post"
                      >edit</mat-icon
                    >
                  </button>
                  <button
                    class="action_icon"
                    *ngIf="checkUser"
                    tabindex="-1"
                    mat-mini-fab
                    data-aos="fade-left"
                    data-aos-delay="300"
                    data-aos-duration="1000"
                    data-aos-once="true"
                    [ngStyle]="{
                      'background-color': brightness
                        ? 'rgb(245, 245, 245)'
                        : ' rgb(41, 42, 45)'
                    }"
                    (click)="deletePost(i)"
                  >
                    <mat-icon
                      [ngStyle]="{
                        color: brightness ? '#E84858' : 'violet'
                      }"
                      matTooltipPosition="above"
                      matTooltip="delete post"
                      >delete_forever</mat-icon
                    >
                  </button>
                  <button
                    class="action_icon"
                    mat-mini-fab
                    tabindex="-1"
                    data-aos="fade-left"
                    data-aos-delay="300"
                    data-aos-duration="1000"
                    data-aos-once="true"
                    [ngStyle]="{
                      'background-color': brightness
                        ? 'rgb(245, 245, 245)'
                        : ' rgb(41, 42, 45)'
                    }"
                    (click)="copyPost(i)"
                  >
                    <mat-icon
                      [ngStyle]="{
                        color: brightness ? '#E84858' : 'violet'
                      }"
                      matTooltipPosition="above"
                      matTooltip="copy post url"
                      >content_copy</mat-icon
                    >
                  </button>
                  <button
                    class="action_icon"
                    mat-mini-fab
                    tabindex="-1"
                    data-aos="fade-left"
                    data-aos-delay="300"
                    data-aos-duration="1000"
                    data-aos-once="true"
                    [ngStyle]="{
                      'background-color': brightness
                        ? 'rgb(245, 245, 245)'
                        : ' rgb(41, 42, 45)'
                    }"
                    (click)="sharePost(i)"
                  >
                    <mat-icon
                      [ngStyle]="{
                        color: brightness ? '#E84858' : 'violet'
                      }"
                      matTooltipPosition="above"
                      matTooltip="share post"
                      >share</mat-icon
                    >
                  </button>
                </div>
              </div>
              <div
                class=""
                [ngClass]="window.innerWidth < 600 ? 'col-12' : 'col-10'"
              >
                <div class="loopdata">
                  <!-- <hr *ngIf="data" style="background-color: white;" /> -->
                  <!-- <br /> -->
                  <div>
                    <mat-card
                      appearance="raised"
                      class="blogdataCard"
                      data-aos="fade-up"
                      data-aos-delay="300"
                      data-aos-duration="1000"
                      data-aos-once="true"
                      [ngStyle]="{
                        'background-color': brightness
                          ? 'rgb(223, 223, 223)'
                          : ' rgb(35, 36, 38)'
                      }"
                    >
                      <!-- blogpost image -->
                      <div class="pstimg">
                        <a
                          routerLink="/blog/{{ d.postNumber }}/{{
                            d.postTitle
                          }}/{{ d._id }}"
                        >
                          <span class="postImgContainer">
                            <img
                              mat-card-image
                              data-aos="fade-right"
                              data-aos-delay="300"
                              data-aos-duration="1000"
                              data-aos-once="true"
                              *ngIf="d.postImage"
                              [ngStyle]="{
                                'border-color': brightness
                                  ? 'rgb(255, 77, 77)'
                                  : 'violet'
                              }"
                              [ngClass]="{
                                blgdata: d.postImage
                              }"
                              src="{{ d.postImage }}"
                            />
                            <div class="floatingNewsPaperIcon">
                              <i class="fas fa-newspaper"></i>
                            </div>
                          </span>
                        </a>
                      </div>
                      <mat-card-content
                        id="scrolldata"
                        data-aos="fade-up"
                        data-aos-delay="300"
                        data-aos-duration="1000"
                        data-aos-once="true"
                        [ngStyle]="{
                          'border-color': brightness
                            ? 'rgb(255, 77, 77)'
                            : 'violet'
                        }"
                      >
                        <h3
                          [ngStyle]="{
                            color: brightness ? 'black' : 'rgb(129,129,129)'
                          }"
                          style="padding-top: 10px; padding-bottom: 10px"
                        >
                          <div class="post_title_area">
                            <div class="post_name">
                              <a
                                routerLink="/blog/{{ d.postNumber }}/{{
                                  d.postTitle
                                }}/{{ d._id }}"
                                *ngIf="data"
                                [ngStyle]="{
                                  color: brightness ? '#E84858' : 'violet'
                                }"
                              >
                                <!-- <span class="material-icons"> feed </span> -->
                                {{ d.postNumber }}: {{ d.postTitle }}</a
                              >
                              <span
                                *ngIf="
                                  moment(today).format('YYYY-MM-DD') <=
                                    moment(d.postDate).format('YYYY-MM-DD') &&
                                  moment(d.postDate).format('YYYY-MM-DD') <=
                                    moment(today)
                                      .add(3, 'days')
                                      .format('YYYY-MM-DD')
                                "
                                [ngStyle]="{
                                  color: brightness ? '#E84858' : 'violet'
                                }"
                                class="ml-2"
                                matTooltip="New"
                                matTooltipPosition="above"
                              >
                                <!-- New -->
                                <mat-icon class="icon_align3"
                                  >new_releases</mat-icon
                                ></span
                              >

                              <!-- new post badge -->
                              <h3></h3>
                            </div>
                          </div>

                          <!-- post edited or not -->

                          <!-- post date -->
                          <h6
                            *ngIf="data"
                            class="card-subtitle text-muted"
                            [ngStyle]="{
                              color: brightness ? 'black' : 'rgb(129,129,129)'
                            }"
                          >
                            <span
                              [ngClass]="
                                brightness
                                  ? 'theme_highlight_light'
                                  : 'theme_highlight_dark'
                              "
                            >
                              <i class="fas fa-clock"></i>
                              {{ d.postDate | date : "MMM dd, YYYY" }}
                            </span>
                            <span
                              *ngIf="d.edited == true"
                              [ngClass]="
                                brightness
                                  ? 'theme_highlight_light'
                                  : 'theme_highlight_dark'
                              "
                              style="font-size: 14px"
                              ><i class="fas fa-pencil-alt"></i> edited.</span
                            >

                            <span
                              [ngClass]="
                                brightness
                                  ? 'theme_highlight_light'
                                  : 'theme_highlight_dark'
                              "
                              [routerLink]="['/searchTag']"
                              [queryParams]="{ search: t }"
                              matTooltip="search by tag '{{ t }}' ?"
                              matTooltipPosition="above"
                              style="cursor: pointer"
                              *ngFor="let t of d.tags.slice(0, 2)"
                              >#{{ t }}</span
                            >

                            <span
                              style="
                                display: flex;

                                justify-content: center;
                                align-items: center;
                              "
                              [ngClass]="
                                brightness
                                  ? 'theme_highlight_light'
                                  : 'theme_highlight_dark'
                              "
                              >{{ d.userViews }}
                              <span class="material-icons mx-1">
                                visibility
                              </span></span
                            >
                          </h6>
                        </h3>
                        <hr />
                        <!-- main post rendered in markdown -->
                        <div *ngIf="data" style="margin: 10px auto">
                          <markdown
                            *ngIf="d.postNumber <= 22"
                            class="variable-binding"
                            emoji
                            style="width: 100%"
                            [ngStyle]="{
                              'background-color': brightness
                                ? 'rgb(223, 223, 223)'
                                : ' rgb(35, 36, 38)',
                              color: brightness ? 'black' : 'rgb(129,129,129)'
                            }"
                          >
                            {{ d.post | slice : 0 : 150 }}
                          </markdown>

                          <ckeditor
                            *ngIf="d.postNumber > 22"
                            [data]="(d.post | slice : 0 : 350) + '.....'"
                            [editor]="Editor"
                            [disabled]="true"
                            [ngStyle]="{
                              'background-color': brightness
                                ? 'rgb(223, 223, 223)'
                                : ' rgb(35, 36, 38)',
                              color: brightness ? 'black' : 'white'
                            }"
                            (ready)="onCkReady($event)"
                          ></ckeditor>
                          <!-- <span
                              *ngIf="d.post.length > 350"
                              [ngStyle]="{
                                color: brightness ? 'black' : 'white'
                              }"
                            >
                              ......</span
                            >
                            <br /> -->
                          <!-- <ckeditor
                              style="width: 100%"
                              [editor]="Editor"
                              [ngStyle]="{
                                'background-color': brightness
                                  ? 'rgb(223, 223, 223)'
                                  : ' rgb(35, 36, 38)',
                                color: brightness ? 'black' : 'rgb(129,129,129)'
                              }"
                              [data]="d.post | slice: 0:150"
                            ></ckeditor> -->

                          <span
                            [ngStyle]="{
                              'background-color': brightness
                                ? 'rgb(223, 223, 223)'
                                : ' rgb(35, 36, 38)',
                              color: brightness ? 'black' : 'rgb(129,129,129)'
                            }"
                            [ngStyle]="{
                              'background-color': brightness
                                ? 'rgb(223, 223, 223)'
                                : ' rgb(35, 36, 38)',
                              color: brightness ? 'black' : 'rgb(129,129,129)'
                            }"
                          >
                            <button
                              mat-stroked-button
                              routerLink="/blog/{{ d.postNumber }}/{{
                                d.postTitle
                              }}/{{ d._id }}"
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              class="bigBtn"
                            >
                              Read more <mat-icon>chevron_right</mat-icon>
                            </button></span
                          >
                        </div>
                        <hr />
                        <!-- display approx reading time -->
                        <div class="card_footer">
                          <div class="readingTime">
                            <h6
                              class="card-main-footer"
                              [ngStyle]="{
                                color: brightness ? '#E84858' : 'violet'
                              }"
                              *ngIf="readTimeCheck.length > 0"
                              [ngClass]="
                                brightness
                                  ? 'theme_highlight_light'
                                  : 'theme_highlight_dark'
                              "
                            >
                              {{ readTimeCheck[i] }}
                              <span
                                [ngStyle]="{
                                  color: brightness
                                    ? 'black'
                                    : 'rgb(129,129,129)'
                                }"
                                >|</span
                              >
                              {{ totalWordsCheck[i] }}
                              <span
                                [ngStyle]="{
                                  color: brightness
                                    ? 'black'
                                    : 'rgb(129,129,129)'
                                }"
                                >words</span
                              >
                            </h6>
                          </div>

                          <!-- post author -->
                          <div class="postauthor">
                            <h6
                              *ngIf="d.postAuthor"
                              [ngStyle]="{
                                color: brightness ? 'black' : 'rgb(129,129,129)'
                              }"
                              [ngClass]="
                                brightness
                                  ? 'theme_highlight_light'
                                  : 'theme_highlight_dark'
                              "
                            >
                              <i class="fas fa-user"></i> By:
                              <span
                                class="postauthor"
                                [ngStyle]="{
                                  color: brightness ? '#E84858' : 'violet'
                                }"
                                (click)="gotoAuthor()"
                                style="cursor: pointer"
                              >
                                {{ d.postAuthor }}</span
                              >
                            </h6>
                            <h6
                              *ngIf="!d.postAuthor"
                              [ngStyle]="{
                                color: brightness ? 'black' : 'rgb(129,129,129)'
                              }"
                            >
                              <i class="fas fa-user"></i> By:
                              <span
                                [ngStyle]="{
                                  color: brightness ? '#E84858' : 'violet'
                                }"
                                >Admin</span
                              >
                            </h6>
                          </div>
                        </div>
                      </mat-card-content>
                    </mat-card>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
        </div>

        <!-- other column for info -->
        <div class="col-sm-4" *ngIf="data">
          <div class="right_blog_content">
            <mat-card
              appearance="raised"
              appearance="raised"
              *ngIf="data"
              data-aos="zoom-in"
              data-aos-delay="300"
              data-aos-duration="1000"
              data-aos-once="true"
              [ngStyle]="{
                'background-color': brightness
                  ? 'rgb(223, 223, 223)'
                  : ' rgb(35, 36, 38)',
                color: brightness ? 'black' : 'white'
              }"
            >
              <!-- recommended posts -->
              <div class="recommended">
                <mat-card-title>
                  <h5>
                    <mat-icon
                      [ngStyle]="{
                        color: brightness ? '#e84858' : 'violet'
                      }"
                      >auto_awesome</mat-icon
                    >Recommended posts
                  </h5>
                </mat-card-title>
                <mat-card-content>
                  <div
                    class="recommendedPosts"
                    *ngFor="let d of recommendedBlogs"
                  >
                    <h5>
                      <a
                        [ngStyle]="{
                          color: brightness ? '#E84858' : 'violet'
                        }"
                        routerLink="/blog/{{ d.postNumber }}/{{
                          d.postTitle
                        }}/{{ d._id }}"
                        >{{ d.postNumber }}: {{ d.postTitle }}</a
                      >
                    </h5>
                  </div>
                </mat-card-content>
              </div>
            </mat-card>
            <br />

            <mat-card
              appearance="raised"
              appearance="raised"
              *ngIf="data"
              data-aos="slide-up"
              data-aos-delay="300"
              data-aos-duration="1000"
              data-aos-once="true"
              [ngStyle]="{
                'background-color': brightness
                  ? 'rgb(223, 223, 223)'
                  : ' rgb(35, 36, 38)',
                color: brightness ? 'black' : 'white'
              }"
            >
              <!-- most viewed posts -->
              <div class="mostViewed">
                <mat-card-title>
                  <h5>
                    <mat-icon
                      [ngStyle]="{
                        color: brightness ? '#e84858' : 'violet'
                      }"
                      >visibility</mat-icon
                    >
                    Most Viewed
                  </h5>
                </mat-card-title>
                <mat-card-content>
                  <div
                    class="mostViewedPosts"
                    *ngFor="let d of mostViewed | slice : 0 : 5"
                  >
                    <h5 *ngIf="d.userViews >= 2">
                      <a
                        [ngStyle]="{
                          color: brightness ? '#E84858' : 'violet'
                        }"
                        routerLink="/blog/{{ d.postNumber }}/{{
                          d.postTitle
                        }}/{{ d._id }}"
                        >{{ d.postNumber }}: {{ d.postTitle }}</a
                      >
                    </h5>
                  </div>
                </mat-card-content>
              </div>
            </mat-card>
            <br />
            <div class="tags">
              <mat-card
                appearance="raised"
                *ngIf="data"
                class="hashtags"
                data-aos="slide-up"
                data-aos-delay="300"
                data-aos-duration="1000"
                data-aos-once="true"
                [ngStyle]="{
                  'background-color': brightness
                    ? 'rgb(223, 223, 223)'
                    : ' rgb(35, 36, 38)',
                  color: brightness ? '#E84858' : 'violet'
                }"
              >
                <mat-card-title>
                  <h5>
                    <mat-icon
                      [ngStyle]="{
                        color: brightness ? '#e84858' : 'violet'
                      }"
                      >search</mat-icon
                    >
                    Search by tags
                  </h5>
                </mat-card-title>

                <!-- some hashtags to search blogposts -->
                <mat-card-content>
                  <p>
                    <strong>
                      <!-- <span (click)="Search('pixel experience')">
                        #pixelexperience</span
                      >
                      &nbsp;
                      <span (click)="Search('android')">#android</span>&nbsp;
                      <span (click)="Search('corvus')">#corvus</span>&nbsp;
                      <span (click)="Search('heroku')">#heroku</span>&nbsp;
                      <span (click)="Search('python')">#python</span>&nbsp;
                      <span (click)="Search('pixys')">#pixys</span>&nbsp;
                      <span (click)="Search('angular')">#angular</span>&nbsp;
                      <span (click)="Search('node')">#node</span>&nbsp;
                      <span (click)="Search('counter strike')">#csgo</span
                      >&nbsp;
                      <span (click)="Search('markdown')">#markdown</span>&nbsp;

                      <span routerLink="/movies&tv">#movieDB</span>&nbsp; -->

                      <ng-container *ngFor="let tag of tagsList">
                        <span
                          [ngClass]="brightness ? 'blog_tagsL' : 'blog_tagsD'"
                          [routerLink]="['/searchTag']"
                          [queryParams]="{ search: tag }"
                          matTooltip="search '{{ tag }}' ?"
                          matTooltipPosition="above"
                          >#{{ tag }}</span
                        >&nbsp;
                      </ng-container>
                    </strong>
                  </p>
                </mat-card-content>
              </mat-card>
            </div>

            <br />
            <!-- <mat-card  appearance="raised"                *ngIf="data"
                data-aos="slide-up"
                data-aos-delay="300"
                data-aos-duration="1000"
                data-aos-once="true"
                [ngStyle]="{
                  'background-color': brightness
                    ? 'rgb(223, 223, 223)'
                    : ' rgb(35, 36, 38)',
                  color: brightness ? '#E84858' : 'violet'
                }"
              >
                 one more search field 
                <mat-card-content>
                  <form>
                    <div class="extraSearch">
                      <label for="extraSearchBar">
                        <strong> Search:</strong>
                      </label>
                      <input
                        name="extraSearchBar"
                        type="text"
                        id="extraSearchBar"
                        placeholder=""
                        class="form-control"
                        #extraInput
                      />
                      <button
                        mat-raised-button
                        class="btn-success"
                        id="searchsubmit1"
                        type="submit"
                      >
                        <i
                          class="fas fa-check-square"
                          (click)="Search(extraInput.value)"
                        ></i>
                      </button>
                    </div>
                  </form>
                </mat-card-content>
              </mat-card> -->
            <br />
          </div>
        </div>
      </div>

      <!-- pagination logics -->

      <div class="pagebtn" *ngIf="data">
        <div
          class="pages"
          *ngFor="let pg of [].constructor(pgSize); let i = index"
        >
          <button
            mat-mini-fab
            [disabled]="pageNo == i + 1"
            [ngStyle]="{
              'background-color': brightness ? ' rgb(41, 42, 45)' : 'white',
              color: brightness ? 'white' : 'black'
            }"
            (click)="blogsP(i + 1, pageYear)"
          >
            {{ i + 1 }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer area -->
</body>
<!-- </html> -->
